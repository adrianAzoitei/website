---
import BaseLayout from "../BaseLayout.astro";
import '../../styles/markdown.css';
const { frontmatter } = Astro.props;

---
<script src="./expandable.ts"></script>
<script src="https://unpkg.com/@rive-app/canvas@2.7.0" is:inline></script>
<script>
  // @ts-ignore
  const layout = new rive.Layout({
    fit: rive.Fit.Contain, // Change to: rive.Fit.Contain, or Cover
    alignment: rive.Alignment.Center,
  });

  const riveCanvas = document.getElementById("web")


  const riveInstance = new rive.Rive({
    // Load a local riv `clean_the_car.riv` or upload your own!
    src: "../../website/wordpress.riv",
    // Be sure to specify the correct state machine (or animation) name
    canvas: riveCanvas,
    layout: layout, // This is optional. Provides additional layout control.
    autoplay: true,
    onLoad: () => {
      // Prevent a blurry canvas by using the device pixel ratio
      riveInstance.resizeDrawingSurfaceToCanvas();
    }
  });

  // Resize the drawing surface if the window resizes
  window.addEventListener(
    "resize",
    () => {
      riveInstance.resizeDrawingSurfaceToCanvas();
    },
    false
  );
</script>

<BaseLayout pageTitle={frontmatter.title}>
  <div class="flex flex-col items-center justify-center">
    <div class="text-2xl mb-2">{frontmatter.title}</div>
    <div class="text-sm max-w-[80%] md:max-w-[30%] text-center">{frontmatter.description}</div>
  </div>
  <div class="flex items-center justify-center">
    <canvas id={frontmatter.id} class="max-w-[100%] md:max-w-[50%] md:min-w-[40%]"></canvas>
  </div>
  <slot />
</BaseLayout>